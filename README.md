# HR Helper - Chrome 扩展

一个Chrome扩展，支持修改网页背景色和在BOSS直聘(zhipin.com)搜索页自动加载全部职位数据。

## 功能

### 1. 背景色修改
- 使用颜色选择器选择任意颜色
- 点击应用按钮改变网页背景色
- 自动调整文字颜色以保证可读性
- 适用于所有网页

### 2. 全部加载职位数据（仅在 zhipin.com 搜索页）
- 自动滚动到底部加载数据
- 实时显示已加载的职位数量
- 自动检测是否加载完成
- 加载完成后显示桌面通知
- 最多循环100次，防止无限加载

## 安装步骤

### 1. 加载扩展到Chrome

1. 打开Chrome浏览器
2. 在地址栏输入 `chrome://extensions/`
3. 开启右上角的「开发者模式」
4. 点击「加载已解压的扩展程序」
5. 选择 `hr-helper` 文件夹

### 2. 使用方法

#### 背景色修改功能
1. 打开任意网页
2. 点击浏览器工具栏中的 H 图标
3. 在弹出的颜色选择器中选择颜色
4. 点击「应用颜色」按钮
5. 网页背景色会立即改变

#### 全部加载职位功能
1. 访问 BOSS直聘搜索页面（例如：https://www.zhipin.com/web/geek/job?...）
2. 点击浏览器工具栏中的 H 图标
3. 确认「状态」显示为「准备就绪」
4. 点击「加载全部职位」按钮
5. 等待自动加载完成
6. 加载完成后会收到通知显示加载数量

## 文件结构

```
hr-helper/
├── manifest.json       # 扩展配置文件
├── popup.html          # 弹窗界面
├── popup.js            # 弹窗逻辑
├── content.js          # 注入到网页的脚本
├── icons/              # 图标文件夹
│   ├── icon16.png      # 16x16 图标
│   ├── icon48.png      # 48x48 图标
│   └── icon128.png     # 128x128 图标
├── create_icons.py     # 图标生成脚本
└── README.md           # 说明文件
```

## 技术说明

### 选择器配置

扩展会自动尝试多种选择器来识别职位列表项和"没有更多"提示：

**职位列表选择器：**
- `.job-card-wrapper`
- `.job-card`
- `[class*="job-item"]`
- `[class*="position-item"]`
- `[class*="job-list-item"]`
- `.job-list-card`
- `li.job-item`

**没有更多提示选择器：**
- `[class*="no-more"]`
- `[class*="no_data"]`
- `[class*="no-data"]`
- `[class*="finished"]`
- `[class*="end"]`
- `[class*="load-end"]`

### 加载流程

1. 点击「加载全部职位」按钮
2. 循环执行（最多100次）：
   - 滚动到页面底部
   - 等待1.5秒
   - 统计当前职位数量
   - 更新进度显示
   - 检测"没有更多"提示
   - 检测数量是否增加（连续2次未增加则停止）
3. 加载完成后显示通知

### 开发调试

修改任何文件后，在 `chrome://extensions/` 页面点击扩展图标下方的刷新按钮即可重新加载。

### 调试信息

打开浏览器控制台（F12）可以查看加载过程中的日志信息：
- 当前页面URL
- 是否为搜索页
- 当前职位数量
- 每次滚动的加载进度

## 版本历史

- **v2.0.0** - 添加全部加载职位功能，限制域名到 zhipin.com
- **v1.0.0** - 初始版本，仅支持背景色修改

## 注意事项

1. 扩展仅在 `https://www.zhipin.com/*` 域名下工作
2. 全部加载功能仅在搜索页可用
3. 加载过程中请勿关闭弹窗，否则无法看到进度
4. 如果网站改版导致选择器失效，需要更新 `content.js` 中的选择器配置
