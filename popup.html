<!DOCTYPE html>
<html lang="zh-CN" aria-live="polite">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HR Helper - å€™é€‰äººæ•°æ®é‡‡é›†å·¥å…·</title>
  <style>
    /* ========================================
       è®¾è®¡ä»¤ç‰Œç³»ç»Ÿ (Design Tokens)
       ======================================== */
    :root {
      /* è‰²å½©ç³»ç»Ÿ - Color System */
      --color-primary-50:  #e8f0fe;
      --color-primary-100: #d2e3fc;
      --color-primary-500: #4285f4;
      --color-primary-600: #3367d6;
      --color-primary-700: #245bb6;

      --color-success-500: #34a853;
      --color-success-600: #2d9249;
      --color-success-700: #1e7e34;

      --color-error-50:   #fce8e6;
      --color-error-500:  #ea4335;
      --color-error-600:  #d93025;
      --color-error-700:  #c5221f;

      --color-warning-500: #fbbc04;
      --color-warning-600: #f9ab00;

      /* ä¸­æ€§è‰² - Neutral Colors */
      --color-gray-50:  #f8f9fa;
      --color-gray-100: #f1f3f4;
      --color-gray-200: #e8eaed;
      --color-gray-300: #dadce0;
      --color-gray-400: #bdc1c6;
      --color-gray-500: #80868b;
      --color-gray-600: #5f6368;
      --color-gray-700: #3c4043;
      --color-gray-800: #202124;
      --color-gray-900: #171717;

      /* é—´è·ç³»ç»Ÿ - Spacing Scale (4px base unit) */
      --spacing-0:  0;
      --spacing-1:  4px;
      --spacing-2:  8px;
      --spacing-3:  12px;
      --spacing-4:  16px;
      --spacing-5:  20px;
      --spacing-6:  24px;
      --spacing-8:  32px;
      --spacing-10: 40px;
      --spacing-12: 48px;

      /* æ’ç‰ˆç³»ç»Ÿ - Typography Scale */
      --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      --font-family-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, monospace;

      --font-size-xs:   0.75rem;    /* 12px */
      --font-size-sm:   0.8125rem;  /* 13px */
      --font-size-base: 0.875rem;   /* 14px */
      --font-size-md:   1rem;       /* 16px */
      --font-size-lg:   1.125rem;   /* 18px */
      --font-size-xl:   1.25rem;    /* 20px */

      --font-weight-normal:  400;
      --font-weight-medium:  500;
      --font-weight-semibold: 600;
      --font-weight-bold:    700;

      --line-height-tight:   1.25;
      --line-height-normal:  1.5;
      --line-height-relaxed: 1.75;

      /* åœ†è§’ - Border Radius */
      --radius-sm:  4px;
      --radius-md:  8px;
      --radius-lg:  12px;
      --radius-xl:  16px;
      --radius-full: 9999px;

      /* é˜´å½± - Shadows */
      --shadow-sm:  0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md:  0 4px 6px -1px rgb(0 0 0 / 0.1);
      --shadow-lg:  0 10px 15px -3px rgb(0 0 0 / 0.1);
      --shadow-xl:  0 20px 25px -5px rgb(0 0 0 / 0.1);

      /* è¿‡æ¸¡ - Transitions */
      --transition-fast:   150ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-base:   200ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow:   300ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-bounce: 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55);

      /* Z-Index */
      --z-dropdown:   1000;
      --z-sticky:     1020;
      --z-fixed:      1030;
      --z-modal-backdrop: 1040;
      --z-modal:      1050;
      --z-popover:    1060;
      --z-tooltip:    1070;
    }

    /* ========================================
       å…¨å±€é‡ç½®ä¸åŸºç¡€æ ·å¼
       ======================================== */
    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      width: min(100vw - 32px, 400px);
      min-width: 280px;
      max-width: 600px;
      margin: 0;
      padding: var(--spacing-4);
      font-family: var(--font-family-base);
      font-size: var(--font-size-base);
      line-height: var(--line-height-normal);
      color: var(--color-gray-800);
      background-color: var(--color-gray-50);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ç„¦ç‚¹å¯è§æ€§ - WCAG 2.4.7 */
    :focus-visible {
      outline: 2px solid var(--color-primary-500);
      outline-offset: 2px;
    }

    /* å‡å°‘åŠ¨ç”»åå¥½ - WCAG 2.3.3 */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* ========================================
       æ’ç‰ˆ
       ======================================== */
    h1 {
      margin: 0 0 var(--spacing-3) 0;
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      color: var(--color-gray-900);
      text-align: center;
      letter-spacing: -0.011em;
    }

    /* ========================================
       å¡ç‰‡ç»„ä»¶
       ======================================== */
    .section {
      background-color: #fff;
      border-radius: var(--radius-md);
      padding: var(--spacing-3);
      margin-bottom: var(--spacing-3);
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--color-gray-200);
    }

    /* ========================================
       çŠ¶æ€æŒ‡ç¤ºå™¨
       ======================================== */
    .load-status {
      margin-bottom: var(--spacing-2);
      padding: var(--spacing-2) var(--spacing-3);
      background-color: var(--color-gray-50);
      border-radius: var(--radius-md);
      font-size: var(--font-size-sm);
      border: 1px solid var(--color-gray-200);
    }

    .status-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-1);
    }

    .status-line:last-child {
      margin-bottom: 0;
    }

    /* Loading Spinner - ä¿®å¤ï¼šæ·»åŠ  role å’Œ aria-label */
    .loading-spinner {
      display: inline-block;
      width: 14px;
      height: 14px;
      border: 2px solid var(--color-gray-200);
      border-top-color: var(--color-primary-500);
      border-radius: var(--radius-full);
      animation: spin 1s linear infinite;
      vertical-align: middle;
      margin-right: var(--spacing-1);
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .not-available {
      color: var(--color-gray-500);
      font-style: italic;
    }

    /* ========================================
       æŒ‰é’®ç»„ä»¶
       ======================================== */
    button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-1);
      width: 100%;
      padding: var(--spacing-2) var(--spacing-4);
      font-family: var(--font-family-base);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      line-height: 1;
      color: #fff;
      background-color: var(--color-primary-500);
      border: 1px solid transparent;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-base);
      text-decoration: none;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    button:hover:not(:disabled) {
      background-color: var(--color-primary-600);
      box-shadow: var(--shadow-md);
      transform: translateY(-1px);
    }

    button:active:not(:disabled) {
      background-color: var(--color-primary-700);
      box-shadow: var(--shadow-sm);
      transform: translateY(0);
    }

    button:disabled {
      background-color: var(--color-gray-300);
      color: var(--color-gray-500);
      cursor: not-allowed;
      opacity: 0.6;
    }

    button:focus-visible {
      outline: 2px solid var(--color-primary-500);
      outline-offset: 2px;
    }

    .collect-btn {
      background-color: var(--color-success-500);
    }

    .collect-btn:hover:not(:disabled) {
      background-color: var(--color-success-600);
    }

    .collect-btn:active:not(:disabled) {
      background-color: var(--color-success-700);
    }

    .icon-button {
      width: auto;
      padding: var(--spacing-1);
      background: transparent;
      color: var(--color-gray-600);
      border: none;
    }

    .icon-button:hover:not(:disabled) {
      background-color: var(--color-gray-100);
      color: var(--color-gray-900);
      box-shadow: none;
      transform: none;
    }

    /* ========================================
       åˆ—è¡¨ç»„ä»¶
       ======================================== */
    .candidate-list {
      max-height: 400px;
      overflow-y: auto;
      background-color: #fff;
      border-radius: var(--radius-md);
      padding: var(--spacing-2);
      border: 1px solid var(--color-gray-200);
    }

    /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
    .candidate-list::-webkit-scrollbar {
      width: 8px;
    }

    .candidate-list::-webkit-scrollbar-track {
      background: var(--color-gray-50);
      border-radius: var(--radius-full);
    }

    .candidate-list::-webkit-scrollbar-thumb {
      background: var(--color-gray-400);
      border-radius: var(--radius-full);
    }

    .candidate-list::-webkit-scrollbar-thumb:hover {
      background: var(--color-gray-500);
    }

    .candidate-item {
      padding: var(--spacing-2) var(--spacing-3);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all var(--transition-fast);
      border: 1px solid transparent;
    }

    .candidate-item:hover {
      background-color: var(--color-primary-50);
      border-color: var(--color-primary-100);
    }

    .candidate-item:focus {
      outline: 2px solid var(--color-primary-500);
      outline-offset: -2px;
    }

    .candidate-name {
      font-weight: var(--font-weight-semibold);
      font-size: var(--font-size-base);
      color: var(--color-gray-900);
      margin-bottom: var(--spacing-1);
    }

    .candidate-info {
      font-size: var(--font-size-xs);
      color: var(--color-gray-600);
      display: flex;
      flex-direction: column;
      gap: var(--spacing-1);
    }

    .candidate-info span {
      display: flex;
      justify-content: space-between;
    }

    /* ========================================
       è¯¦æƒ…é¢æ¿
       ======================================== */
    .detail-panel {
      position: fixed;
      inset: 0;
      width: 100%;
      max-width: min(100vw, 450px);
      height: 100vh;
      background-color: #fff;
      box-shadow: var(--shadow-xl);
      z-index: var(--z-modal);
      transform: translateX(100%);
      transition: transform var(--transition-slow);
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }

    .detail-panel.show {
      transform: translateX(0);
    }

    /* é®ç½©å±‚ */
    .detail-backdrop {
      position: fixed;
      inset: 0;
      background-color: rgb(0 0 0 / 0.5);
      z-index: var(--z-modal-backdrop);
      opacity: 0;
      visibility: hidden;
      transition: all var(--transition-base);
    }

    .detail-backdrop.show {
      opacity: 1;
      visibility: visible;
    }

    .detail-header {
      position: sticky;
      top: 0;
      background-color: #fff;
      padding: var(--spacing-3);
      border-bottom: 1px solid var(--color-gray-200);
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: var(--z-sticky);
      box-shadow: var(--shadow-sm);
    }

    .detail-title {
      font-size: var(--font-size-md);
      font-weight: var(--font-weight-semibold);
      color: var(--color-gray-900);
    }

    .detail-close {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      font-size: 24px;
      color: var(--color-gray-600);
      background: transparent;
      border: none;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .detail-close:hover {
      background-color: var(--color-gray-100);
      color: var(--color-gray-900);
    }

    .detail-content {
      padding: var(--spacing-3);
      flex: 1;
    }

    .detail-field {
      display: flex;
      margin-bottom: var(--spacing-2);
      font-size: var(--font-size-sm);
      gap: var(--spacing-2);
    }

    .detail-field-label {
      width: 90px;
      color: var(--color-gray-600);
      flex-shrink: 0;
      font-weight: var(--font-weight-medium);
    }

    .detail-field-value {
      flex: 1;
      color: var(--color-gray-900);
      word-break: break-word;
    }

    /* æ—¶é—´çº¿ç»„ä»¶ */
    .timeline-item {
      position: relative;
      padding-left: var(--spacing-4);
      margin-bottom: var(--spacing-3);
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: 0;
      top: 6px;
      width: 8px;
      height: 8px;
      background-color: var(--color-primary-500);
      border-radius: var(--radius-full);
      border: 2px solid #fff;
      box-shadow: 0 0 0 2px var(--color-primary-100);
    }

    .timeline-item::after {
      content: '';
      position: absolute;
      left: 3px;
      top: 14px;
      width: 2px;
      height: calc(100% + 4px);
      background-color: var(--color-gray-200);
    }

    .timeline-item:last-child {
      margin-bottom: 0;
    }

    .timeline-item:last-child::after {
      display: none;
    }

    .timeline-time {
      font-size: var(--font-size-xs);
      color: var(--color-gray-500);
      margin-bottom: var(--spacing-1);
      font-weight: var(--font-weight-medium);
    }

    .timeline-content {
      font-size: var(--font-size-sm);
      color: var(--color-gray-800);
      line-height: var(--line-height-relaxed);
    }

    /* ========================================
       åˆ†é¡µç»„ä»¶
       ======================================== */
    .pagination {
      margin-top: var(--spacing-3);
      display: flex;
      justify-content: center;
      gap: var(--spacing-2);
    }

    .pagination button {
      padding: var(--spacing-1) var(--spacing-3);
      font-size: var(--font-size-sm);
      background-color: var(--color-primary-500);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-base);
      width: auto;
    }

    .pagination button:hover:not(:disabled) {
      background-color: var(--color-primary-600);
    }

    .pagination button:disabled {
      background-color: var(--color-gray-300);
      cursor: not-allowed;
      opacity: 0.6;
    }

    .page-info {
      font-size: var(--font-size-xs);
      color: var(--color-gray-600);
      text-align: center;
      margin-bottom: var(--spacing-2);
      margin-top: var(--spacing-2);
    }

    /* ========================================
       ç©ºçŠ¶æ€
       ======================================== */
    .empty {
      text-align: center;
      padding: var(--spacing-8);
      color: var(--color-gray-500);
      font-size: var(--font-size-sm);
    }

    .empty::before {
      content: 'ğŸ“‹';
      display: block;
      font-size: 48px;
      margin-bottom: var(--spacing-3);
      opacity: 0.5;
    }

    /* ========================================
       çŠ¶æ€æ ‡ç­¾
       ======================================== */
    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: var(--spacing-1);
      padding: var(--spacing-1) var(--spacing-2);
      font-size: var(--font-size-xs);
      font-weight: var(--font-weight-medium);
      border-radius: var(--radius-full);
      line-height: 1;
    }

    .status-badge--success {
      background-color: var(--color-success-50);
      color: var(--color-success-700);
    }

    .status-badge--error {
      background-color: var(--color-error-50);
      color: var(--color-error-700);
    }

    .status-badge--warning {
      background-color: #fff8e1;
      color: #f57c00;
    }

    .status-badge--info {
      background-color: var(--color-primary-50);
      color: var(--color-primary-700);
    }

    /* ========================================
       å“åº”å¼ä¼˜åŒ–
       ======================================== */
    @media (max-width: 360px) {
      body {
        padding: var(--spacing-2);
      }

      .section {
        padding: var(--spacing-2);
      }

      h1 {
        font-size: var(--font-size-md);
      }
    }

    /* é«˜å¯¹æ¯”åº¦æ¨¡å¼æ”¯æŒ */
    @media (prefers-contrast: high) {
      :root {
        --color-gray-200: #000;
        --color-gray-500: #000;
      }
    }
  </style>
</head>
<body>
  <!-- ä¸»æ ‡é¢˜ -->
  <h1>ğŸ“Š HR Helper</h1>

  <!-- èŒä½æ•°æ®åŠ è½½åŒºåŸŸ -->
  <div class="section" role="region" aria-labelledby="job-loading-title">
    <div class="load-status" role="status" aria-live="polite">
      <div class="status-line">
        <span id="loadStatusLabel">çŠ¶æ€:</span>
        <span id="loadStatus" class="not-available">ä¸åœ¨zhipin.com</span>
      </div>
      <div class="status-line">
        <span>å·²åŠ è½½:</span>
        <span id="loadCount">0</span>
      </div>
    </div>
    <button
      id="loadAllBtn"
      disabled
      aria-label="åŠ è½½å…¨éƒ¨èŒä½æ•°æ®"
      aria-describedby="loadStatus"
    >
      åŠ è½½å…¨éƒ¨èŒä½
    </button>
  </div>

  <!-- äººé€‰æ•°æ®åŒºåŸŸ -->
  <div class="section" role="region" aria-labelledby="candidate-title">
    <button
      id="loadCandidatesBtn"
      class="collect-btn"
      aria-label="é‡‡é›†å½“å‰é¡µé¢çš„å€™é€‰äººæ•°æ®"
    >
      é‡‡é›†äººé€‰æ•°æ®
    </button>

    <!-- å€™é€‰äººåˆ—è¡¨ -->
    <div
      class="candidate-list"
      id="candidateList"
      role="listbox"
      aria-label="å€™é€‰äººåˆ—è¡¨"
      tabindex="0"
    >
      <div class="empty">ç‚¹å‡»"é‡‡é›†äººé€‰æ•°æ®"å¼€å§‹é‡‡é›†</div>
    </div>

    <!-- åˆ†é¡µæ§ä»¶ -->
    <nav class="pagination" role="navigation" aria-label="åˆ†é¡µå¯¼èˆª">
      <button
        id="prevBtn"
        disabled
        aria-label="ä¸Šä¸€é¡µ"
        rel="prev"
      >
        â† ä¸Šä¸€é¡µ
      </button>
      <button
        id="nextBtn"
        disabled
        aria-label="ä¸‹ä¸€é¡µ"
        rel="next"
      >
        ä¸‹ä¸€é¡µ â†’
      </button>
    </nav>
    <div class="page-info" id="pageInfo" role="status" aria-live="polite">
      ç¬¬ 0 é¡µ / å…± 0 é¡µ
    </div>
  </div>

  <!-- è¯¦æƒ…é¢æ¿é®ç½© -->
  <div
    class="detail-backdrop"
    id="detailBackdrop"
    aria-hidden="true"
  ></div>

  <!-- è¯¦æƒ…é¢æ¿ -->
  <aside
    class="detail-panel"
    id="detailPanel"
    role="dialog"
    aria-modal="true"
    aria-labelledby="detailTitle"
    aria-hidden="true"
  >
    <header class="detail-header">
      <h2 class="detail-title" id="detailTitle">å€™é€‰äººè¯¦æƒ…</h2>
      <button
        class="detail-close"
        id="detailCloseBtn"
        aria-label="å…³é—­è¯¦æƒ…é¢æ¿"
        type="button"
      >
        âœ•
      </button>
    </header>
    <div class="detail-content" id="detailContent" tabindex="-1">
      <!-- åŠ¨æ€å†…å®¹ -->
    </div>
  </aside>

  <script src="popup.js"></script>
</body>
</html>
